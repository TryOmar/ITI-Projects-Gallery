<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | ITI Projects Gallery</title>
    <meta name="robots" content="noindex, nofollow">
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="../assets/img/ITI.jpeg">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../assets/css/shared.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="../assets/css/semantic-styles.css">
</head>

<body>
    <!-- Login Modal (Password Protection) -->
    <div class="login-overlay" id="login-overlay">
        <div class="login-modal">
            <div class="login-icon">
                <i class="bi bi-lock" aria-hidden="true"></i>
            </div>
            <h2>Admin Access</h2>
            <p>Enter the admin password to continue</p>
            <form id="login-form">
                <div class="login-input-group">
                    <input type="password" id="admin-password" placeholder="Enter password" autocomplete="off" required>
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-text">Unlock</span>
                        <span class="btn-loader"></span>
                    </button>
                </div>
                <p class="login-error hidden" id="login-error">Incorrect password. Please try again.</p>
            </form>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="navbar-container">
            <a href="../index.html" class="navbar-brand">
                <img src="../assets/img/ITI.jpeg" alt="ITI Logo">
                <span>ITI Projects</span>
            </a>

            <div class="admin-badge">
                <i class="bi bi-shield-lock" aria-hidden="true"></i>
                Admin Panel
            </div>
        </div>
    </nav>

    <main class="admin-page">
        <div class="container">
            <!-- Page Header -->
            <header class="page-header">
                <h1 class="page-title">Admin Panel</h1>
                <p class="page-description">
                    Manage project visibility and moderate submissions
                </p>
            </header>

            <!-- Stats Cards -->
            <section aria-labelledby="stats-heading">
                <h2 id="stats-heading" class="visually-hidden">Statistics</h2>
                <div class="stats-grid" id="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon total">
                            <i class="bi bi-collection" aria-hidden="true"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-total">--</span>
                            <span class="stat-label">Total Projects</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon visible">
                            <i class="bi bi-eye" aria-hidden="true"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-visible">--</span>
                            <span class="stat-label">Visible</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon hidden-stat">
                            <i class="bi bi-eye-slash" aria-hidden="true"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-hidden">--</span>
                            <span class="stat-label">Hidden</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects Table -->
            <section aria-labelledby="table-heading">
                <div class="table-card">
                    <div class="table-header">
                        <h2 id="table-heading">All Projects</h2>
                        <button class="btn btn-secondary" id="refresh-btn">
                            <i class="bi bi-arrow-clockwise" aria-hidden="true"></i>
                            Refresh
                        </button>
                    </div>

                    <!-- Loading State -->
                    <div class="loading-container" id="loading-container">
                        <div class="loading-spinner"></div>
                        <p>Loading projects...</p>
                    </div>

                    <!-- Error State -->
                    <div class="error-container hidden" id="error-container">
                        <p id="error-message">Failed to load projects</p>
                        <button class="btn btn-primary" id="retry-btn">Try Again</button>
                    </div>

                    <!-- Projects Table -->
                    <div class="table-container hidden" id="table-container">
                        <table class="projects-table">
                            <thead>
                                <tr>
                                    <th>Project</th>
                                    <th>Status</th>
                                    <th>Team</th>
                                    <th>Email</th>
                                    <th>Visible</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="projects-tbody">
                                <!-- Rows will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Feedback -->
            <div class="feedback-container">
                <div class="alert alert-success hidden" id="success-alert" role="alert">
                    <i class="bi bi-check-circle" aria-hidden="true"></i>
                    <span id="success-message"></span>
                </div>

                <div class="alert alert-error hidden" id="error-alert" role="alert">
                    <i class="bi bi-x-circle" aria-hidden="true"></i>
                    <span id="alert-error-message"></span>
                </div>
            </div>
        </div>
    </main>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay hidden" id="delete-modal">
        <div class="modal">
            <div class="modal-header">
                <h3>Delete Project</h3>
                <button class="modal-close" id="modal-close-btn" aria-label="Close">
                    <i class="bi bi-x-lg" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this project?</p>
                <p class="modal-project-title" id="modal-project-title"></p>
                <p class="modal-warning">This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modal-cancel-btn">Cancel</button>
                <button class="btn btn-danger" id="modal-confirm-btn">Delete Project</button>
            </div>
        </div>
    </div>

    <!-- Edit Project Modal -->
    <div class="modal-overlay hidden" id="edit-modal">
        <div class="modal modal-lg">
            <div class="modal-header">
                <h3>Edit Project</h3>
                <button class="modal-close" id="edit-modal-close-btn" aria-label="Close">
                    <i class="bi bi-x-lg" aria-hidden="true"></i>
                </button>
            </div>
            <form id="edit-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="edit-title">Project Title <span class="required">*</span></label>
                        <input type="text" class="form-input" id="edit-title" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="edit-description">Description</label>
                        <textarea class="form-input" id="edit-description" rows="4"></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="edit-status">Status</label>
                            <select class="form-input" id="edit-status">
                                <option value="Not Started">Not Started</option>
                                <option value="In Progress">In Progress</option>
                                <option value="Completed">Completed</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="edit-email">Email</label>
                            <input type="email" class="form-input" id="edit-email">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="edit-team">Team Members</label>
                        <input type="text" class="form-input" id="edit-team" placeholder="Comma-separated names">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="edit-github">GitHub URL</label>
                            <input type="url" class="form-input" id="edit-github" placeholder="https://github.com/...">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="edit-demo">Demo URL</label>
                            <input type="url" class="form-input" id="edit-demo" placeholder="https://...">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="edit-visible">
                            Visible in Gallery
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="edit-modal-cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="edit-modal-save-btn">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-bottom">
            <p>&copy; 2026 ITI Projects Gallery. Made with ❤️ by ITI Students</p>
        </div>
    </footer>

    <script src="../assets/js/config.js"></script>
    <script src="admin.js"></script>
</body>

</html>